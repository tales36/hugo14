---
title: "STG238_Deep_dive_File_storage_for_business_critical_applications"
date: 2019-12-06T07:36:23+09:00
author: "katsutoshi miyata"
tags: ["勉強系","AWS re:invent2019"]
cover: ../../img/awsreinvent2019.jpg
---

## ■はじめに
あなたのワークロードに正しいサービスを使おう

### ◆クラウドへのマイグレーション
オンラインでのデータ転送ならDatasync。  
オフラインでS3にデータを送付するならSnowball。  
　→50TB～80TBのデータを送付するなら。

## ■FSx
FSxは超簡単にサービスが利用できる。  
データはリージョン間でレプリケートされてるし、Multi-AZを使うこともできる。

### ◆スループットキャパシティ
それぞれスループットキャパシティが使える。  
8Mbpsから2倍ずつ増えていく。  
それぞれバーストキャパシティが設定されており、最初のキャパシティ容量に応じて増える。

### ◆バックアップについて
Amazon S3が使える。
VSSコピーにより、ポイントインバックアップにも対応出来る。

## ■EFS

### ◆EFSマイグレーションへのすすめ
EFSはシンプルでスケーラブルで、安くて丈夫。  
ディスクについては、そのうちSSDからHDDを選べるようになる  
$0.013/GB(Multi-AZは$0.025/GB)
スループット確約は$6/Mbpsごとに

### ◆フルマネージド VS DIY TCO
大体自分で構築するのにに比べて90%くらい安い。  
インスタンスもいらない、わざわざ複数台用意しなくても良い。

### ◆コストオプション
　ライフサイクルを決めてれば、自動で7日経ったファイルはIA(低読込みストレージ)へ移動させることが出来る。

### ◆モードについて
1. ■パフォーマンスモード  
　　通常利用用。

　　
2.  ■スループットモード  
　　バーストスループットが通常用で、さらにスループットをプロヴィジョン出来る。

### ◆バックアップ
Amazon Backupを使うと容易にバックアップが可能。
　　
## ■ネットワークアクセスについて
基本的にVPCのNCLsとSGが使える。  
EFSはさらにPOSIX権限が使える。  
FSxはNTFSファイルとディレクトリレベルで制限でき、SMB ACLsもつかえる。

## ■EFS Authentication and Authorization (comming soon)
IAM認証がEFSで利用できるように。

## ■AWS監視
CloudwatchとCloudtrailを利用すること

## ■感想
日本で事前に調べてはいたけど、知らないことも沢山あった。  
(特にバックアップまわり)  
EFSとFSxは今後提案が増えるだろうし、しっかり理解しておきたい。

EFSのHDD版が出たら、もっとお客様に出しやすくなるだろうなぁ。  
どのくらいスループット出るのかは調べておかないと。